/* Container */
.universitice.page-enter .dashboard-header { animation: fadeInDown 0.5s ease-out; animation-fill-mode: both; }
.universitice.page-enter .ut-courses { animation: fadeInUp 0.6s ease-out; animation-fill-mode: both; animation-delay: .1s; }
.universitice.page-enter .ut-details { animation: fadeInUp 0.6s ease-out; animation-fill-mode: both; animation-delay: .2s; }

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(30px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes fadeInDown {
  from { opacity: 0; transform: translateY(-20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Uses global tokens defined in index.css for theming */

.universitice .ut-wrapper {
  display: grid;
  grid-template-columns: minmax(240px, 320px) 1fr;
  gap: 16px;
}

/* Left list */
.universitice .ut-courses { background: transparent; border-radius: 12px; padding: 2px; max-height: calc(100dvh - 180px); overflow: auto; }
.universitice .ut-course-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 10px;
}
.universitice .ut-course-list li {
  position: relative;
  border-radius: 12px;
  padding: 10px;
  cursor: pointer;
  transition: transform 140ms ease, box-shadow 140ms ease, border-color 140ms ease, background 140ms ease;
  display: grid;
  gap: 6px;
  border: 1px solid var(--border-color);
  background: var(--module-bg);
  overflow: hidden;
}
.universitice .icon-btn { background: transparent; border: 1px solid transparent; width: 28px; height: 28px; border-radius: 6px; display: inline-flex; align-items: center; justify-content: center; color: var(--text-secondary); opacity: .5; }
.universitice .icon-btn:hover { background: var(--hover-bg); border-color: var(--border-color); opacity: 1; color: var(--text-primary); }
.universitice .ut-course-list li .ut-course-actions { opacity: 0; transition: opacity 120ms ease; }
.universitice .ut-course-list li:hover .ut-course-actions { opacity: 1; }
.universitice .ut-course-actions { display: flex; gap: 6px; position: absolute; top: 8px; right: 8px; }
.universitice .ut-course-list li:hover { 
  transform: translateY(-2px);
  box-shadow: 0 8px 20px var(--shadow-color);
}
.universitice .ut-course-list li.active {
  outline: 2px solid color-mix(in oklab, var(--accent-color) 60%, transparent);
}
.universitice .ut-course-title { 
  font-weight: 600; 
  line-height: 1.3; 
  color: var(--text-primary);
  font-size: 1rem;
}
.universitice .ut-course-row { display: flex; align-items: center; justify-content: space-between; gap: 8px; min-height: 24px; }
.universitice .ut-course-subrow { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-top: 4px; }
.universitice .ut-badge { background: var(--active-bg); color: var(--text-secondary); border: 1px solid var(--border-color); padding: 2px 6px; border-radius: 999px; font-size: .72rem; }
.universitice .ut-actions { margin-left: auto; display: flex; align-items: center; gap: 12px; }
.universitice .ut-switch { position: relative; display: inline-flex; align-items: center; gap: 8px; cursor: pointer; user-select: none; }
.universitice .ut-switch input { position: absolute; opacity: 0; pointer-events: none; }
.universitice .ut-slider { width: 38px; height: 22px; background: var(--hover-bg); border: 1px solid var(--border-color); border-radius: 999px; position: relative; transition: background 160ms ease, border-color 160ms ease; }
.universitice .ut-slider::after { content: ""; width: 16px; height: 16px; background: var(--text-secondary); border-radius: 50%; position: absolute; top: 50%; left: 3px; transform: translateY(-50%); transition: left 160ms ease, background 160ms ease; }
.universitice .ut-switch input:checked + .ut-slider { background: color-mix(in oklab, var(--accent-color) 18%, transparent); border-color: var(--accent-color); }
.universitice .ut-switch input:checked + .ut-slider::after { left: 19px; background: var(--text-primary); }
.universitice .ut-switch-label { font-size: .9rem; color: var(--text-secondary); }
.universitice .ut-course-sub { 
  opacity: .8; 
  font-size: .85rem; 
  color: var(--text-secondary);
  font-weight: 500;
}

/* Card banner for /my-like tiles */
.universitice .ut-card-banner { height: 56px; border-radius: 10px; position: relative; overflow: hidden; background: linear-gradient(135deg, color-mix(in oklab, var(--accent-color) 30%, transparent), transparent 60%), color-mix(in oklab, var(--text-secondary) 8%, transparent); }
.universitice .ut-card-banner img { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; }
.universitice .ut-card-placeholder { position: absolute; inset: 0; display: grid; place-items: center; font-weight: 700; letter-spacing: 0.5px; color: var(--text-primary); opacity: .9; }

/* Right detail */
.universitice .ut-details { background: var(--module-bg); border-radius: 12px; padding: 12px; min-height: 420px; max-height: calc(100dvh - 180px); overflow: auto; position: relative; border: 1px solid var(--border-color); box-shadow: 0 2px 8px var(--shadow-color); }
.universitice .ut-placeholder {
  opacity: 0.7;
  text-align: center;
  padding: 60px 0;
}

/* Toolbar */
.universitice .ut-course-toolbar { display: flex; justify-content: flex-end; margin-bottom: 8px; gap: 8px; }
.universitice .link-btn {
  background: transparent;
  border: 1px solid var(--border-color);
  padding: 6px 10px;
  border-radius: 8px;
  cursor: pointer;
  transition: background 120ms ease, border-color 120ms ease;
  color: var(--text-primary);
}
.universitice .link-btn:hover { background: var(--hover-bg); }

/* Sections & modules */
.universitice .ut-section { margin: 12px 0; border: 1px solid var(--border-color); border-radius: 10px; padding: 12px; background: var(--module-bg); }
.universitice .ut-section.closed .ut-modules { 
  max-height: 0; 
  overflow: hidden; 
  transition: max-height 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
  opacity: 0;
}
.universitice .ut-section.open .ut-modules {
  max-height: none; /* avoid clipping and overlapping next sections */
  opacity: 1;
}
.universitice .ut-section-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
.universitice .ut-section-title { font-size: 1.2rem; margin: 0; font-weight: 600; color: var(--text-primary); }
.universitice .ut-toggle-btn { 
  background: transparent; 
  border: 1px solid var(--border-color); 
  border-radius: 8px; 
  width: 32px; 
  height: 32px; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  cursor: pointer; 
  transition: background 120ms ease, transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
  color: var(--text-primary);
}
.universitice .ut-toggle-btn:hover { background: var(--hover-bg); }
.universitice .ut-toggle-btn svg { transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
.universitice .ut-section.open .ut-toggle-btn svg { transform: rotate(180deg); }
.universitice .ut-summary { opacity: 0.8; font-size: 0.9rem; margin-bottom: 12px; color: var(--text-secondary); }
.universitice .ut-modules { 
  display: grid; 
  gap: 10px; 
  transition: max-height 0.6s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.4s ease 0.1s;
  transform: translateY(0);
  transition: transform 0.3s ease, opacity 0.3s ease;
}
.universitice .ut-section.closed .ut-modules {
  transform: translateY(-10px);
}
.universitice .ut-module { border: 1px solid var(--border-color); border-radius: 8px; padding: 10px; background: var(--panel-bg); }
.universitice .ut-module-head { display: flex; align-items: center; margin-bottom: 6px; gap: 8px; }
.universitice .ut-module-icon { color: var(--text-secondary); flex-shrink: 0; }
.universitice .ut-module-title { font-weight: 600; color: var(--text-primary); word-wrap: break-word; overflow-wrap: anywhere; }
.universitice .ut-module-title-link { font-weight: 600; color: var(--text-primary); text-decoration: none; transition: color 120ms ease; white-space: normal; overflow: visible; }
.universitice .ut-module-title-link:hover { color: var(--accent-color); text-decoration: underline; }
.universitice .ut-module-description { margin-top: 6px; color: var(--text-primary); white-space: pre-wrap; overflow-wrap: anywhere; }
.universitice .ut-module-description p { margin: 0 0 6px 0; }
.universitice .ut-files { list-style: none; margin: 0; padding: 0; }
.universitice .ut-files li { padding: 4px 0; }
.universitice .ut-files li a { color: var(--text-secondary); text-decoration: none; font-size: 0.9rem; display: flex; align-items: center; word-break: break-word; overflow-wrap: anywhere; }
.universitice .ut-files li a:hover { color: var(--accent-color); text-decoration: underline; }

/* Skeleton */
.skel { display: grid; gap: 8px; }
.skel-line { height: 14px; background: color-mix(in oklab, Canvas 85%, CanvasText 15%); border-radius: 6px; animation: pulse 1.1s ease-in-out infinite alternate; }
@keyframes pulse { from { opacity: .6; } to { opacity: 1; } }

/* Animations */
.fade-in { animation: fin 160ms ease-out; }
@keyframes fin { from { opacity: 0; transform: translateY(2px); } to { opacity: 1; transform: none; } }

/* Dark/light theming (uses your var-based setup) */
/* tokens now defined at .universitice scope above */

/* Responsive: on mobile show details overlaying list */
@media (max-width: 820px) {
  .universitice .ut-wrapper { grid-template-columns: 1fr; gap: 12px; }
  .universitice .ut-courses { max-height: none; }
  /* Hidden by default on mobile */
  .universitice .ut-details { display: none; }
  /* Fullscreen details when open */
  .universitice .ut-details.mobile-open { display: flex; flex-direction: column; position: fixed; inset: 0; z-index: 30; height: 100svh; min-height: 100vh; width: 100vw; overflow: hidden; background: var(--module-bg); border: none; border-radius: 0; box-shadow: none; transform: none; opacity: 1; pointer-events: auto; }
  .universitice .ut-mobile-bar { position: sticky; top: 0; flex: 0 0 auto; display: flex; justify-content: flex-end; background: var(--module-bg); padding: 10px 12px; border-bottom: 1px solid var(--border-color); z-index: 1; margin-bottom: 8px; }
  .universitice .ut-course { flex: 1 1 auto; overflow: auto; min-height: 0; padding: 0 12px 12px 12px; }
  .universitice .ut-close { background: transparent; color: var(--text-primary); border: 1px solid var(--border-color); padding: 8px 12px; border-radius: 8px; }
  .universitice .ut-close:hover { background: var(--hover-bg); }
  /* Hide the list when details open */
  .universitice .mobile-details-open .ut-courses { display: none; }
}

/* Modal */
.universitice .ut-modal-backdrop {
  position: fixed;
  inset: 0;
  background: var(--overlay-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 50;
}
.universitice .ut-modal { background: var(--module-bg); color: var(--text-primary); border: 1px solid var(--border-color); border-radius: 12px; width: min(560px, 92vw); max-height: 86vh; display: flex; flex-direction: column; }
.universitice .ut-modal-head { display: flex; align-items: center; justify-content: space-between; padding: 12px; border-bottom: 1px solid var(--border-color); }
.universitice .ut-modal-title-row { display: inline-flex; align-items: center; gap: 8px; }
.universitice .ut-modal-title { font-weight: 600; }
.universitice .ut-modal-body { padding: 12px; overflow: auto; }
.universitice .ut-modal-foot { display: flex; justify-content: flex-end; gap: 8px; padding: 12px; border-top: 1px solid var(--border-color); }

/* Dropzone */
.universitice .dropzone { border: 2px dashed var(--border-color); border-radius: 10px; padding: 16px; text-align: center; color: var(--text-secondary); background: var(--panel-bg); }
.universitice .dropzone input[type="file"] { display: block; margin: 0 auto 8px auto; }
.universitice .file-list { list-style: none; margin: 8px 0 0 0; padding: 0; text-align: left; }
.universitice .file-list li { padding: 4px 0; }
.universitice .ut-error-note { background: color-mix(in oklab, var(--danger-color) 15%, transparent); color: var(--on-accent); border: 1px solid color-mix(in oklab, var(--danger-color) 35%, var(--border-color)); padding: 8px 10px; border-radius: 8px; margin-bottom: 10px; }
.universitice .ut-status { border: 1px solid var(--border-color); border-radius: 12px; padding: 12px; background: var(--panel-bg); margin-bottom: 12px; }
.universitice .ut-status-title-row { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-bottom: 8px; }
.universitice .ut-status-title { font-weight: 700; color: var(--text-primary); font-size: 1rem; }
.universitice .ut-status-chip { display: inline-flex; align-items: center; gap: 6px; padding: 2px 8px; border-radius: 999px; font-size: .8rem; border: 1px solid var(--border-color); background: color-mix(in oklab, var(--accent-color) 12%, transparent); color: var(--text-primary); }
.universitice .ut-status-chip.locked { background: color-mix(in oklab, var(--danger-color) 18%, transparent); border-color: color-mix(in oklab, var(--danger-color) 30%, var(--border-color)); color: var(--on-accent); }
.universitice .ut-status-meta { display: grid; gap: 4px; margin-bottom: 10px; color: var(--text-secondary); }
.universitice .ut-status-meta-item { font-size: .9rem; }
.universitice .ut-status-section { font-weight: 600; margin: 6px 0 4px; color: var(--text-primary); }
.universitice .ut-status-grid { display: grid; grid-template-columns: 1fr 2fr; gap: 8px 12px; margin-top: 6px; }
